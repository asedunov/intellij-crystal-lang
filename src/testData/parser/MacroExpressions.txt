FILE
  CrLibrary(CR_LIBRARY_DEFINITION)
    PsiElement(lib)('lib')
    PsiWhiteSpace(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      PsiElement(<constant>)('LibC')
    PsiElement(;)(';')
    PsiWhiteSpace(' ')
    CrBody(CR_BODY)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiWhiteSpace(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiWhiteSpace(' ')
        PsiElement(}})('}}')
      PsiElement(;)(';')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')

  CrLibrary(CR_LIBRARY_DEFINITION)
    PsiElement(lib)('lib')
    PsiWhiteSpace(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      PsiElement(<constant>)('LibC')
    PsiElement(;)(';')
    PsiWhiteSpace(' ')
    CrBody(CR_BODY)
      CrCStruct(CR_C_STRUCT_DEFINITION)
        PsiElement(struct)('struct')
        PsiWhiteSpace(' ')
        CrPathNameElement(CR_PATH_NAME_ELEMENT)
          PsiElement(<constant>)('Foo')
        PsiElement(;)(';')
        PsiWhiteSpace(' ')
        CrBody(CR_BODY)
          CrMacroExpression(CR_MACRO_EXPRESSION)
            PsiElement({{)('{{')
            PsiWhiteSpace(' ')
            CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
              PsiElement(<integer literal>)('1')
            PsiWhiteSpace(' ')
            PsiElement(}})('}}')
          PsiElement(;)(';')
        PsiWhiteSpace(' ')
        PsiElement(end)('end')
      PsiElement(;)(';')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiWhiteSpace('\n')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiWhiteSpace('\n')
        PsiElement(}})('}}')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiElement(*)('*')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiElement(**)('**')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    CrIfExpression(CR_IF_EXPRESSION)
      CrThenClause(CR_THEN_CLAUSE)
        CrAssignmentExpression(CR_ASSIGNMENT_EXPRESSION)
          CrReferenceExpression(CR_REFERENCE_EXPRESSION)
            CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
              PsiElement(<identifier>)('a')
          PsiWhiteSpace(' ')
          PsiElement(=)('=')
          PsiWhiteSpace(' ')
          CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
            PsiElement(<integer literal>)('1')
      PsiWhiteSpace(' ')
      PsiElement(if)('if')
      PsiWhiteSpace(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('2')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrBinaryExpression(CR_BINARY_EXPRESSION)
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiWhiteSpace(' ')
      PsiElement(//)('//')
      PsiWhiteSpace(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('2')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrRegexExpression(CR_REGEX_EXPRESSION)
        PsiElement(<regex start>)('/')
        PsiElement(<regex end>)('/')
      PsiElement(.)('.')
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('options')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('foo')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrEnum(CR_ENUM_DEFINITION)
    PsiElement(enum)('enum')
    PsiWhiteSpace(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      PsiElement(<constant>)('Foo')
    PsiElement(;)(';')
    PsiWhiteSpace(' ')
    CrBody(CR_BODY)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')
      PsiElement(;)(';')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(if)('if')
    PsiWhiteSpace(' ')
    CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
      PsiElement(true)('true')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' ')
      CrMacroVariableExpression(CR_MACRO_VARIABLE_EXPRESSION)
        PsiElement(<macro variable>)('%foo')
        PsiElement({)('{')
        PsiWhiteSpace(' ')
        PsiErrorElement:Expected: ',' or '}'
          PsiElement({{)('{{')
          PsiElement(<integer literal>)('1')
        PsiElement(})('}')
      PsiElement(<macro fragment>)('} } ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(if)('if')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
          PsiElement(true)('true')
        PsiElement(}})('}}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 1 ')
    CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
      PsiElement({%)('{%')
      PsiWhiteSpace(' ')
      PsiElement(elsif)('elsif')
      PsiWhiteSpace(' ')
      PsiErrorElement:Can't nest macro expressions
        CrMacroExpression(CR_MACRO_EXPRESSION)
          PsiElement({{)('{{')
          CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
            PsiElement(true)('true')
          PsiElement(}})('}}')
      PsiWhiteSpace(' ')
      PsiElement(%})('%}')
      CrMacroLiteral(CR_MACRO_LITERAL)
        PsiElement(<macro fragment>)(' 2 ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroUnlessStatement(CR_MACRO_UNLESS_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(unless)('unless')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
          PsiElement(true)('true')
        PsiElement(}})('}}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 1 ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(for)('for')
    PsiWhiteSpace(' ')
    CrVariable(CR_VARIABLE_DEFINITION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('x')
    PsiWhiteSpace(' ')
    PsiElement(in)('in')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('y')
        PsiElement(}})('}}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 1 ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
        PsiElement({%)('{%')
        PsiWhiteSpace(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiWhiteSpace(' ')
        PsiElement(%})('%}')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
        PsiElement({%)('{%')
        PsiWhiteSpace(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiWhiteSpace(' ')
        PsiElement(%})('%}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(if)('if')
    PsiWhiteSpace(' ')
    CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
      PsiElement(true)('true')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' ')
      CrMacroVariableExpression(CR_MACRO_VARIABLE_EXPRESSION)
        PsiElement(<macro variable>)('%foo')
        PsiElement({)('{')
        PsiWhiteSpace(' ')
        PsiErrorElement:Expected: ',' or '}'
          PsiElement({%)('{%')
          PsiWhiteSpace(' ')
          PsiElement(<integer literal>)('1')
          PsiWhiteSpace(' ')
          PsiElement(%})('%}')
        PsiWhiteSpace(' ')
        PsiElement(})('}')
      PsiElement(<macro fragment>)(' ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(if)('if')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
        PsiElement({%)('{%')
        PsiWhiteSpace(' ')
        CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
          PsiElement(true)('true')
        PsiWhiteSpace(' ')
        PsiElement(%})('%}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 1 ')
    CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
      PsiElement({%)('{%')
      PsiWhiteSpace(' ')
      PsiElement(elsif)('elsif')
      PsiWhiteSpace(' ')
      PsiErrorElement:Can't nest macro expressions
        CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
          PsiElement({%)('{%')
          PsiWhiteSpace(' ')
          CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
            PsiElement(true)('true')
          PsiWhiteSpace(' ')
          PsiElement(%})('%}')
      PsiWhiteSpace(' ')
      PsiElement(%})('%}')
      CrMacroLiteral(CR_MACRO_LITERAL)
        PsiElement(<macro fragment>)(' 2 ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroUnlessStatement(CR_MACRO_UNLESS_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(unless)('unless')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
        PsiElement({%)('{%')
        PsiWhiteSpace(' ')
        CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
          PsiElement(true)('true')
        PsiWhiteSpace(' ')
        PsiElement(%})('%}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 1 ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(for)('for')
    PsiWhiteSpace(' ')
    CrVariable(CR_VARIABLE_DEFINITION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('x')
    PsiWhiteSpace(' ')
    PsiElement(in)('in')
    PsiWhiteSpace(' ')
    PsiErrorElement:Can't nest macro expressions
      CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
        PsiElement({%)('{%')
        PsiWhiteSpace(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('y')
        PsiWhiteSpace(' ')
        PsiElement(%})('%}')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 1 ')
    PsiElement({%)('{%')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')
    PsiWhiteSpace(' ')
    PsiElement(%})('%}')

  CrMethod(CR_METHOD_DEFINITION)
    PsiElement(def)('def')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrBlockExpression(CR_BLOCK_EXPRESSION)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<instance variable>)('@type')
        PsiElement(}})('}}')
      PsiElement(;)(';')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroVariableExpression(CR_MACRO_VARIABLE_EXPRESSION)
        PsiElement(<macro variable>)('%var')
      PsiElement(<macro fragment>)(';')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroVariableExpression(CR_MACRO_VARIABLE_EXPRESSION)
        PsiElement(<macro variable>)('%var')
        PsiElement({)('{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(,)(',')
        PsiWhiteSpace(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(})('}')
      PsiElement(<macro fragment>)(' = hello;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(!)('!')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      <empty list>
    PsiElement(end)('end')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrReferenceExpression(CR_REFERENCE_EXPRESSION)
        CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
          PsiElement(<identifier>)('foo')
      PsiElement(.)('.')
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(nil?)('nil?')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrCallExpression(CR_CALL_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('foo')
      PsiWhiteSpace(' ')
      CrArgumentList(CR_SPACED_ARGUMENT_LIST)
        CrShortBlockArgument(CR_SHORT_BLOCK_ARGUMENT)
          PsiElement(&)('&')
          CrReferenceExpression(CR_REFERENCE_EXPRESSION)
            PsiElement(.)('.')
            CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
              PsiElement(nil?)('nil?')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrCallExpression(CR_CALL_EXPRESSION)
      CrReferenceExpression(CR_REFERENCE_EXPRESSION)
        CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
          PsiElement(<identifier>)('foo')
      PsiElement(.)('.')
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(nil?)('nil?')
      CrArgumentList(CR_PARENTHESIZED_ARGUMENT_LIST)
        PsiElement(()('(')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('foo')
        PsiElement())(')')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrCallExpression(CR_CALL_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(nil?)('nil?')
      CrArgumentList(CR_PARENTHESIZED_ARGUMENT_LIST)
        PsiElement(()('(')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('foo')
        PsiElement())(')')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrStringLiteralExpression(CR_STRING_LITERAL_EXPRESSION)
    PsiElement(<string start>)('"')
    CrStringInterpolation(CR_STRING_INTERPOLATION)
      PsiElement(<interpolation start>)('#{')
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')
      PsiElement(<interpolation end>)('}')
    PsiElement(<string end>)('"')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('mmm')
    PsiWhiteSpace('\n')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('  macro foo(name)\n    ')
      PsiElement(<macro fragment>)('# some comments ')
      PsiElement(<macro fragment>)('\{')
      PsiElement(<macro fragment>)('{ name.id }}')
      PsiElement(<macro fragment>)('\n')
      PsiElement(<macro fragment>)('  ')
      PsiElement(<macro fragment>)('end\n  macro bar(name)\n    ')
      PsiElement(<macro fragment>)('# some comments \a')
      PsiElement(<macro fragment>)('\n')
      PsiElement(<macro fragment>)('  ')
      PsiElement(<macro fragment>)('end\n')
    PsiElement(end)('end')