FILE
  CrLibrary(CR_LIBRARY_DEFINITION)
    PsiElement(lib)('lib')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<constant>)('LibC')
    PsiElement(;)(';')
    PsiWhiteSpace(' ')
    CrBody(CR_BODY)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiWhiteSpace(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiWhiteSpace(' ')
        PsiElement(}})('}}')
      PsiElement(;)(';')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')

  CrLibrary(CR_LIBRARY_DEFINITION)
    PsiElement(lib)('lib')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<constant>)('LibC')
    PsiElement(;)(';')
    PsiWhiteSpace(' ')
    CrBody(CR_BODY)
      CrCStruct(CR_C_STRUCT_DEFINITION)
        PsiElement(struct)('struct')
        PsiWhiteSpace(' ')
        CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
          PsiElement(<constant>)('Foo')
        PsiElement(;)(';')
        PsiWhiteSpace(' ')
        CrBody(CR_BODY)
          CrMacroExpression(CR_MACRO_EXPRESSION)
            PsiElement({{)('{{')
            PsiWhiteSpace(' ')
            CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
              PsiElement(<integer literal>)('1')
            PsiWhiteSpace(' ')
            PsiElement(}})('}}')
          PsiElement(;)(';')
        PsiWhiteSpace(' ')
        PsiElement(end)('end')
      PsiElement(;)(';')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiWhiteSpace('\n')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiWhiteSpace('\n')
        PsiElement(}})('}}')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiElement(*)('*')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')

  CrCallExpression(CR_CALL_EXPRESSION)
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('puts')
    PsiWhiteSpace(' ')
    CrArgumentList(CR_SPACED_ARGUMENT_LIST)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        PsiElement(**)('**')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    CrIfExpression(CR_IF_EXPRESSION)
      CrThenClause(CR_THEN_CLAUSE)
        CrAssignmentExpression(CR_ASSIGNMENT_EXPRESSION)
          CrReferenceExpression(CR_REFERENCE_EXPRESSION)
            CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
              PsiElement(<identifier>)('a')
          PsiWhiteSpace(' ')
          PsiElement(=)('=')
          PsiWhiteSpace(' ')
          CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
            PsiElement(<integer literal>)('1')
      PsiWhiteSpace(' ')
      PsiElement(if)('if')
      PsiWhiteSpace(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('2')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrBinaryExpression(CR_BINARY_EXPRESSION)
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiWhiteSpace(' ')
      PsiElement(//)('//')
      PsiWhiteSpace(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('2')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrRegexExpression(CR_REGEX_EXPRESSION)
        PsiElement(<regex start>)('/')
        PsiElement(<regex end>)('/')
      PsiElement(.)('.')
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('options')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('foo')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrEnum(CR_ENUM_DEFINITION)
    PsiElement(enum)('enum')
    PsiWhiteSpace(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      CrReferenceExpression(CR_REFERENCE_EXPRESSION)
        CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
          PsiElement(<constant>)('Foo')
    PsiElement(;)(';')
    PsiWhiteSpace(' ')
    CrBody(CR_BODY)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(}})('}}')
      PsiElement(;)(';')
    PsiWhiteSpace(' ')
    PsiElement(end)('end')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrMacroExpression(CR_MACRO_EXPRESSION)
      PsiElement({{)('{{')
      PsiWhiteSpace(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiWhiteSpace(' ')
      PsiElement(}})('}}')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMacroExpression(CR_MACRO_EXPRESSION)
    PsiElement({{)('{{')
    PsiWhiteSpace(' ')
    CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
      PsiElement({%)('{%')
      PsiWhiteSpace(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiWhiteSpace(' ')
      PsiElement(%})('%}')
    PsiWhiteSpace(' ')
    PsiElement(}})('}}')

  CrMethod(CR_METHOD_DEFINITION)
    PsiElement(def)('def')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrBlockExpression(CR_BLOCK_EXPRESSION)
      CrMacroExpression(CR_MACRO_EXPRESSION)
        PsiElement({{)('{{')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<instance variable>)('@type')
        PsiElement(}})('}}')
      PsiElement(;)(';')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroVariableExpression(CR_MACRO_VARIABLE_EXPRESSION)
        PsiElement(<macro variable>)('%var')
      PsiElement(<macro fragment>)(';')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroVariableExpression(CR_MACRO_VARIABLE_EXPRESSION)
        PsiElement(<macro variable>)('%var')
        PsiElement({)('{')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(,)(',')
        PsiWhiteSpace(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(})('}')
      PsiElement(<macro fragment>)(' = hello;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiWhiteSpace(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(!)('!')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      <empty list>
    PsiElement(end)('end')