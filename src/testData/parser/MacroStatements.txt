FILE
  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    CrAssignmentExpression(CR_ASSIGNMENT_EXPRESSION)
      CrReferenceExpression(CR_REFERENCE_EXPRESSION)
        CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
          PsiElement(<identifier>)('a')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(=)('=')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_NEWLINE)('\n')
    CrAssignmentExpression(CR_ASSIGNMENT_EXPRESSION)
      CrReferenceExpression(CR_REFERENCE_EXPRESSION)
        CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
          PsiElement(<identifier>)('a')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(=)('=')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
    PsiElement(CR_NEWLINE)('\n')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    CrIfExpression(CR_IF_EXPRESSION)
      CrThenClause(CR_THEN_CLAUSE)
        CrAssignmentExpression(CR_ASSIGNMENT_EXPRESSION)
          CrReferenceExpression(CR_REFERENCE_EXPRESSION)
            CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
              PsiElement(<identifier>)('a')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(=)('=')
          PsiElement(CR_WHITESPACE)(' ')
          CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
            PsiElement(<integer literal>)('1')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(if)('if')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('2')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    CrIfExpression(CR_IF_EXPRESSION)
      PsiElement(if)('if')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      CrThenClause(CR_THEN_CLAUSE)
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('2')
        PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_NEWLINE)('\n')
    CrIfExpression(CR_IF_EXPRESSION)
      PsiElement(if)('if')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      CrThenClause(CR_THEN_CLAUSE)
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('2')
        PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(end)('end')
    PsiElement(CR_NEWLINE)('\n')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    CrUnlessExpression(CR_UNLESS_EXPRESSION)
      PsiElement(unless)('unless')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      CrThenClause(CR_THEN_CLAUSE)
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('2')
        PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    CrUnlessExpression(CR_UNLESS_EXPRESSION)
      PsiElement(unless)('unless')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      CrThenClause(CR_THEN_CLAUSE)
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('2')
        PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      CrElseClause(CR_ELSE_CLAUSE)
        PsiElement(else)('else')
        PsiElement(CR_WHITESPACE)(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('3')
        PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_NEWLINE)('\n')
    CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
      PsiElement(<integer literal>)('1')
    PsiElement(CR_NEWLINE)('\n')
    CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
      PsiElement(<integer literal>)('2')
    PsiElement(CR_NEWLINE)('\n')
    CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
      PsiElement(<integer literal>)('3')
    PsiElement(CR_NEWLINE)('\n')
    PsiElement(%})('%}')

  CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    CrUnlessExpression(CR_UNLESS_EXPRESSION)
      PsiElement(unless)('unless')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('1')
      PsiElement(;)(';')
      PsiElement(CR_WHITESPACE)(' ')
      CrThenClause(CR_THEN_CLAUSE)
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('2')
        PsiElement(;)(';')
      PsiErrorElement:Expected: end
        <empty list>
  PsiElement(CR_WHITESPACE)(' ')
  PsiErrorElement:Expected: <EOF>
    PsiElement(elsif)('elsif')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(<integer literal>)('3')
    PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(<integer literal>)('4')
    PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrLibrary(CR_LIBRARY_DEFINITION)
    PsiElement(lib)('lib')
    PsiElement(CR_WHITESPACE)(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      PsiElement(<constant>)('LibC')
    PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    CrBody(CR_BODY)
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('2')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')

  CrLibrary(CR_LIBRARY_DEFINITION)
    PsiElement(lib)('lib')
    PsiElement(CR_WHITESPACE)(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      PsiElement(<constant>)('LibC')
    PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    CrBody(CR_BODY)
      CrCStruct(CR_C_STRUCT_DEFINITION)
        PsiElement(struct)('struct')
        PsiElement(CR_WHITESPACE)(' ')
        CrPathNameElement(CR_PATH_NAME_ELEMENT)
          PsiElement(<constant>)('Foo')
        PsiElement(;)(';')
        PsiElement(CR_WHITESPACE)(' ')
        CrBody(CR_BODY)
          CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
            PsiElement({%)('{%')
            PsiElement(CR_WHITESPACE)(' ')
            PsiElement(if)('if')
            PsiElement(CR_WHITESPACE)(' ')
            CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
              PsiElement(<integer literal>)('1')
            PsiElement(CR_WHITESPACE)(' ')
            PsiElement(%})('%}')
            CrMacroLiteral(CR_MACRO_LITERAL)
              PsiElement(<macro fragment>)('2')
            PsiElement({%)('{%')
            PsiElement(CR_WHITESPACE)(' ')
            PsiElement(end)('end')
            PsiElement(CR_WHITESPACE)(' ')
            PsiElement(%})('%}')
          PsiElement(;)(';')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
      PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')

  CrMacroUnlessStatement(CR_MACRO_UNLESS_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(unless)('unless')
    PsiElement(CR_WHITESPACE)(' ')
    CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
      PsiElement(<integer literal>)('1')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)(' 2 ')
    CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
      PsiElement({%)('{%')
      PsiErrorElement:'elseif' is not allowed in 'unless'
        <empty list>
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(elsif)('elsif')
      PsiElement(CR_WHITESPACE)(' ')
      CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
        PsiElement(<integer literal>)('3')
      PsiElement(CR_WHITESPACE)(' ')
      PsiElement(%})('%}')
      CrMacroLiteral(CR_MACRO_LITERAL)
        PsiElement(<macro fragment>)(' 3 ')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(for)('for')
        PsiElement(CR_WHITESPACE)(' ')
        CrVariable(CR_VARIABLE_DEFINITION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(in)('in')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('y')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(for)('for')
        PsiElement(CR_WHITESPACE)(' ')
        CrVariable(CR_VARIABLE_DEFINITION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(,)(',')
        PsiElement(CR_WHITESPACE)(' ')
        CrVariable(CR_VARIABLE_DEFINITION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('y')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(in)('in')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('z')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(else)('else')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body2')
        PsiElement({%)('{%')
        PsiElement(end)('end')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
          PsiElement({%)('{%')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(elsif)('elsif')
          PsiElement(CR_WHITESPACE)(' ')
          CrReferenceExpression(CR_REFERENCE_EXPRESSION)
            CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
              PsiElement(<identifier>)('y')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(%})('%}')
          CrMacroLiteral(CR_MACRO_LITERAL)
            PsiElement(<macro fragment>)('body2')
        PsiElement({%)('{%')
        PsiElement(end)('end')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
          PsiElement({%)('{%')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(elsif)('elsif')
          PsiElement(CR_WHITESPACE)(' ')
          CrReferenceExpression(CR_REFERENCE_EXPRESSION)
            CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
              PsiElement(<identifier>)('y')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(%})('%}')
          CrMacroLiteral(CR_MACRO_LITERAL)
            PsiElement(<macro fragment>)('body2')
          PsiElement({%)('{%')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(else)('else')
          PsiElement(CR_WHITESPACE)(' ')
          PsiElement(%})('%}')
          CrMacroLiteral(CR_MACRO_LITERAL)
            PsiElement(<macro fragment>)('body3')
        PsiElement({%)('{%')
        PsiElement(end)('end')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroUnlessStatement(CR_MACRO_UNLESS_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(unless)('unless')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(for)('for')
        PsiElement(CR_WHITESPACE)(' ')
        CrVariable(CR_VARIABLE_DEFINITION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(in)('in')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('y')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(CR_WHITESPACE)('\\n   ')
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(for)('for')
        PsiElement(CR_WHITESPACE)(' ')
        CrVariable(CR_VARIABLE_DEFINITION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('x')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(in)('in')
        PsiElement(CR_WHITESPACE)(' ')
        CrReferenceExpression(CR_REFERENCE_EXPRESSION)
          CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
            PsiElement(<identifier>)('y')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(CR_WHITESPACE)('\\n   ')
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(CR_WHITESPACE)('\   ')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroVerbatimStatement(CR_MACRO_VERBATIM_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(verbatim)('verbatim')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(do)('do')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('1')
          CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
            PsiElement({%)('{%')
            PsiElement(CR_WHITESPACE)(' ')
            CrReferenceExpression(CR_REFERENCE_EXPRESSION)
              CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
                PsiElement(<identifier>)('foo')
            PsiElement(CR_WHITESPACE)(' ')
            PsiElement(%})('%}')
          PsiElement(<macro fragment>)('2')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)(';')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(CR_NEWLINE)('\n')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroWrapperStatement(CR_MACRO_WRAPPER_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_NEWLINE)('\n')
        CrIfExpression(CR_IF_EXPRESSION)
          PsiElement(if)('if')
          PsiElement(CR_WHITESPACE)(' ')
          CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
            PsiElement(<integer literal>)('1')
          PsiElement(CR_NEWLINE)('\n')
          CrThenClause(CR_THEN_CLAUSE)
            CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
              PsiElement(<integer literal>)('2')
          PsiElement(CR_NEWLINE)('\n')
          CrElseClause(CR_ELSE_CLAUSE)
            PsiElement(else)('else')
            PsiElement(CR_NEWLINE)('\n')
            CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
              PsiElement(<integer literal>)('3')
          PsiElement(CR_NEWLINE)('\n')
          PsiElement(end)('end')
        PsiElement(CR_NEWLINE)('\n')
        PsiElement(%})('%}')
    PsiElement(end)('end')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(;)(';')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('bar')
      CrMacroBlockStatement(CR_MACRO_BLOCK_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(begin)('begin')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('body')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('baz;')
    PsiElement(end)('end')

  CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(for)('for')
    PsiElement(CR_WHITESPACE)(' ')
    CrVariable(CR_VARIABLE_DEFINITION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('x')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(in)('in')
    PsiElement(CR_WHITESPACE)(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('y')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('body')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(if)('if')
    PsiElement(CR_WHITESPACE)(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('x')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('body')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroBlockStatement(CR_MACRO_BLOCK_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(begin)('begin')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
          PsiElement(true)('true')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('if true')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(<macro fragment>)('\n')
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
          PsiElement(true)('true')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('end')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(if)('if')
    PsiElement(CR_WHITESPACE)(' ')
    CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
      PsiElement(true)('true')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('\n')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
  PsiElement(CR_NEWLINE)('\n')
  CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(if)('if')
    PsiElement(CR_WHITESPACE)(' ')
    CrBooleanLiteralExpression(CR_BOOLEAN_LITERAL_EXPRESSION)
      PsiElement(true)('true')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('\n')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrEnum(CR_ENUM_DEFINITION)
    PsiElement(enum)('enum')
    PsiElement(CR_WHITESPACE)(' ')
    CrPathNameElement(CR_PATH_NAME_ELEMENT)
      PsiElement(<constant>)('Foo')
    PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    CrBody(CR_BODY)
      CrMacroIfStatement(CR_MACRO_IF_STATEMENT)
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(if)('if')
        PsiElement(CR_WHITESPACE)(' ')
        CrIntegerLiteralExpression(CR_INTEGER_LITERAL_EXPRESSION)
          PsiElement(<integer literal>)('1')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
        CrMacroLiteral(CR_MACRO_LITERAL)
          PsiElement(<macro fragment>)('2')
        PsiElement({%)('{%')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(end)('end')
        PsiElement(CR_WHITESPACE)(' ')
        PsiElement(%})('%}')
      PsiElement(;)(';')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')

  CrMacroForStatement(CR_MACRO_FOR_STATEMENT)
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(for)('for')
    PsiElement(CR_WHITESPACE)(' ')
    CrVariable(CR_VARIABLE_DEFINITION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(_)('_')
    PsiElement(,)(',')
    PsiElement(CR_WHITESPACE)(' ')
    CrVariable(CR_VARIABLE_DEFINITION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('x')
    PsiElement(,)(',')
    PsiElement(CR_WHITESPACE)(' ')
    CrVariable(CR_VARIABLE_DEFINITION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(_)('_')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(in)('in')
    PsiElement(CR_WHITESPACE)(' ')
    CrReferenceExpression(CR_REFERENCE_EXPRESSION)
      CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
        PsiElement(<identifier>)('y')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('body')
    PsiElement({%)('{%')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(end)('end')
    PsiElement(CR_WHITESPACE)(' ')
    PsiElement(%})('%}')

  CrMacro(CR_MACRO_DEFINITION)
    PsiElement(macro)('macro')
    PsiElement(CR_WHITESPACE)(' ')
    CrSimpleNameElement(CR_SIMPLE_NAME_ELEMENT)
      PsiElement(<identifier>)('foo')
    PsiElement(CR_NEWLINE)('\n')
    CrMacroLiteral(CR_MACRO_LITERAL)
      PsiElement(<macro fragment>)('  macro finished\n    ')
      PsiElement(<macro fragment>)('\{% unless')
      PsiElement(<macro fragment>)(' true %}\n    ')
      PsiElement(<macro fragment>)('\{% end')
      PsiElement(<macro fragment>)(' %}\n  ')
      PsiElement(<macro fragment>)('end\n')
    PsiElement(end)('end')